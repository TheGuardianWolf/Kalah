/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * Learn how to create Gradle builds at https://guides.gradle.org/creating-new-gradle-builds/
 */

apply plugin: 'application'
apply plugin: 'java'

repositories {
    mavenCentral()
}

def externalClasspath = files('junit-3.8.2.jar', 'kalah.jar')

dependencies {
    compile externalClasspath
}

test {
    useJUnitPlatform()
}

sourceSets {
    main {
        java {
            srcDirs = ['src']
        }
    }
    test {
        java {
            srcDirs = ['test']
        }
    }
}

mainClassName = "kalah.Kalah"

task ktest(type: JavaExec) {
    classpath = sourceSets.main.runtimeClasspath
    main = "junit.textui.TestRunner"
    args "kalah.test.TestKalah"
}

task generateUML(type: JavaExec) {
    classpath = files('plantuml-dependency-cli-1.4.0-jar-with-dependencies.jar')
    main = "net.sourceforge.plantumldependency.cli.main.program.PlantUMLDependencyProgram"
    args "-o", "build/uml.txt", "-b", "src/kalah", "-i", "**/*.java"
}
